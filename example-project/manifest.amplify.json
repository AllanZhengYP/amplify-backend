{
  "resources": {
    "testFileStorage": {
      "transformer": "storageTransformer",
      "definition": {},
      "triggers": {
        "stream": "myTestFunction"
      }
    },
    "myTestFunction": {
      "transformer": "functionTransformer",
      "definition": {
        "runtime": "$param:functionRuntime",
        "timeoutSeconds": "200",
        "handler": "$param:functionHandler",
        "relativeBuildAssetPath": "./testLambda",
        "environmentVariables": {
          "SERVER_TIMEOUT": "$param:serverTimeout"
        }
      },
      "preSynth": "cd fnSrc && npx tsc",
      "secrets": {
        "DB_PASSWORD": "$secret:databasePassword"
      },
      "runtimeAccess": {
        "lambdaRuntime": {
          "testFileStorage": [
            {
              "actions": ["read"]
            }
          ]
        }
      }
    },
    "fancyGqlApi": {
      "transformer": "gqlTransformer",
      "definition": {
        "schema": "./schema.graphql"
      },
      "managedTables": ["testDdbStorage"]
    }
  },
  "transformers": {
    "storageTransformer": "@aws-amplify/s3-provider@1.2.3",
    "functionTransformer": "@aws-amplify/lambda-provider@2.3.4",
    "gqlTransformer": "@aws-amplify/app-sync-provider@10.2.3"
  },
  "secrets": {
    "databasePassword": "$ssm:/path/to/secret",
    "fbOAuthClientId": "$ssm:/another/path/to/secret",
    "fbOAuthClientSecret": "$ssm:/yet/another/one"
  },
  "parameters": {
    "serverTimeout": "$ssm:/path/to/ssm/value",
    "functionRuntime": "nodejs18.x",
    "functionHandler": "index.handler"
  }
}
